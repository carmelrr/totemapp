# Χ¨Χ¤Χ§ΧΧ•Χ¨ ΧΧ΅Χ Χ”ΧΧ¤Χ” - 2025-08-24

## Χ©Χ™Χ Χ•Χ™Χ™Χ Χ©Χ‘Χ•Χ¦ΧΆΧ•

### 1. ΧΧ‘Χ Χ” Χ§Χ‘Χ¦Χ™Χ Χ—Χ“Χ© β…

#### Χ§Χ•ΧΧ¤Χ•Χ Χ ΧΧ•Χ Χ—Χ“Χ©Χ•Χ:
- `src/components/map/WallMap.tsx` - ΧΧ¦Χ•Χ’Χ Χ”ΧΧ¤Χ” Χ‘ΧΧ‘Χ“ (ΧΧΧ•Χ Χ”/SVG + ΧΧ—Χ•Χ•Χ Χ–Χ•Χ/Χ¤ΧΧ)
- `src/components/routes/FilterSortBar.tsx` - Toolbar Χ‘Χ™Χ Χ”ΧΧ¤Χ” ΧΧ¨Χ©Χ™ΧΧ”
- `src/components/routes/RoutesList.tsx` - Χ¨Χ©Χ™ΧΧ ΧΧ΅ΧΧ•ΧΧ™Χ (FlatList ΧΧ•ΧΧ‘Χ)
- `src/components/routes/PlusFAB.tsx` - Χ›Χ¤ΧΧ•Χ¨ Χ¤ΧΧ•Χ΅ Χ¦Χ£ (Χ¨Χ§ ΧΧΧ“ΧΧ™Χ)

#### Context Χ•Hooks:
- `src/context/AuthContext.tsx` - Context ΧΧ—Χ™Χ“ ΧΧ Χ™Χ”Χ•Χ Χ”Χ¨Χ©ΧΧ•Χ
- `src/hooks/useWallTransform.ts` - Hook ΧΧ¤Χ•Χ¨Χ ΧΧ Χ™Χ”Χ•Χ Χ–Χ•Χ/Χ¤ΧΧ ΧΆΧ minScale
- `src/hooks/useVisibleRoutes.ts` - Χ©Χ•Χ¤Χ¨ ΧΆΧ throttling Χ•Χ΅Χ™Χ Χ•Χ ΧΧ΅ΧΧ•ΧΧ™Χ ΧΧ¤Χ™ viewport

### 2. ΧΆΧ§Χ¨Χ•Χ Χ•Χ Χ”Χ–Χ•Χ Χ•Χ”Χ¤ΧΧ β…

- **minScale** Χ”Χ•Χ Χ”Χ’Χ•Χ“Χ Χ”Χ”ΧΧ—ΧΧΧ™ Χ•Χ”Χ§ΧΧ Χ‘Χ™Χ•ΧΧ¨
- ΧΧ™ ΧΧ¤Χ©Χ¨ ΧΧ”Χ§ΧΧ™Χ ΧΧΧ—Χ Χ-minScale (Χ§ΧΧ™Χ¤Χ™Χ Χ’)
- Χ“ΧΧ‘Χ-ΧΧΧ¤ ΧΧ—Χ–Χ™Χ¨ Χ-minScale
- Χ›Χ¤Χ™Χ™Χ Χ’Χ‘Χ•ΧΧ•Χ Χ¤ΧΧ Χ©ΧΧ•Χ ΧΆΧ "Χ‘Χ¨Χ™Χ—Χ”" Χ©Χ Χ”ΧΧ¤Χ”

### 3. Χ΅Χ™Χ Χ•Χ ΧΧ΅ΧΧ•ΧΧ™Χ ΧΧ¤Χ™ viewport β…

- Χ—Χ™Χ©Χ•Χ‘ ΧΧΧ‘Χ Χ”Χ Χ¨ΧΧ” Χ‘Χ§Χ•ΧΧ•Χ¨Χ“Χ™Χ ΧΧ•Χ Χ”ΧΧΧ•Χ Χ”
- throttling Χ©Χ 100ms ΧΧΧ Χ™ΧΆΧ Χ¨Χ™Χ Χ“Χ•Χ¨ Χ™ΧΧ¨ Χ‘ΧΧ—Χ•Χ•Χ
- Χ¨Χ§ ΧΧ΅ΧΧ•ΧΧ™Χ Χ”Χ Χ¨ΧΧ™Χ Χ‘ΧΧ΅Χ ΧΧ•ΧΆΧ‘Χ¨Χ™Χ ΧΧ¨Χ©Χ™ΧΧ”

### 4. Χ›Χ¤ΧΧ•Χ¨Χ™Χ Χ•Χ”Χ¨Χ©ΧΧ•Χ β…

- **Χ”Χ•Χ΅Χ¨** Χ¤ΧΧ Χ 5 Χ”Χ›Χ¤ΧΧ•Χ¨Χ™Χ Χ”Χ¦Χ“Χ“Χ™Χ™Χ ΧΧ—ΧΧ•ΧΧ™Χ
- **Χ Χ©ΧΧ¨** Χ¨Χ§ Χ›Χ¤ΧΧ•Χ¨ Χ”Χ¤ΧΧ•Χ΅, ΧΧ•Χ’Χ‘Χ ΧΧΧ“ΧΧ™Χ
- AuthContext ΧΧ‘Χ΅Χ™Χ΅ ΧΆΧ Firebase Auth + Firestore (users/{uid}.isAdmin)

### 5. Χ§Χ•ΧΧ¤Χ•Χ–Χ™Χ¦Χ™Χ” Χ‘ΧΧ΅Χ Χ”Χ¨ΧΧ©Χ™ β…

**Χ΅Χ“Χ¨ Χ”ΧΧ¦Χ•Χ’Χ”:**
1. `WallMap` (flex: 2) - Χ”ΧΧ¤Χ” ΧΆΧ Χ Χ§Χ•Χ“Χ•Χ ΧΧ΅ΧΧ•ΧΧ™Χ
2. `FilterSortBar` - Χ›Χ¤ΧΧ•Χ¨Χ™ Χ΅Χ™Χ Χ•Χ/ΧΧ™Χ•Χ
3. `RoutesList` (flex: 1) - Χ¨Χ©Χ™ΧΧ ΧΧ΅ΧΧ•ΧΧ™Χ Χ Χ¨ΧΧ™Χ
4. `PlusFAB` (absolute) - ΧΧΧΧ”-Χ™ΧΧ™Χ

### 6. Χ©Χ™Χ¤Χ•Χ¨Χ™ Χ‘Χ™Χ¦Χ•ΧΆΧ™Χ β…

- RouteCircle Χ§Χ™Χ™Χ Χ›Χ‘Χ¨ ΧΆΧ React.memo
- FlatList ΧΆΧ getItemLayout Χ•-maxToRenderPerBatch
- Throttling Χ‘ΧΆΧ“Χ›Χ•Χ visible routes
- useCallback Χ•-useMemo Χ‘ΧΧ§Χ•ΧΧ•Χ Χ”ΧΧΧΧ™ΧΧ™Χ

## Χ‘Χ“Χ™Χ§Χ•Χ Χ§Χ‘ΧΧ” π―

- [x] Χ–Χ•Χ ΧΧΧ—Χ Χ-minScale ΧΧ ΧΧΧΧ¤Χ©Χ¨
- [x] Χ“ΧΧ‘Χ-ΧΧΧ¤ ΧΧ—Χ–Χ™Χ¨ Χ-minScale  
- [x] Χ”Χ¨Χ©Χ™ΧΧ” ΧΧΧΆΧ“Χ›Χ Χ Χ¨Χ§ ΧΆΧ ΧΧ΅ΧΧ•ΧΧ™Χ Χ Χ¨ΧΧ™Χ
- [x] Χ¨Χ§ ΧΧ“ΧΧ™Χ Χ¨Χ•ΧΧ” ΧΧ Χ”Χ¤ΧΧ•Χ΅
- [x] Χ›Χ¤ΧΧ•Χ¨Χ™ Χ΅Χ™Χ Χ•Χ/ΧΧ™Χ•Χ Χ ΧΧ¦ΧΧ™Χ Χ‘Χ™Χ Χ”ΧΧ¤Χ” ΧΧ¨Χ©Χ™ΧΧ”
- [x] ΧΧ™Χ Χ©Χ’Χ™ΧΧ•Χ TypeScript

## Χ©Χ™ΧΧ•Χ©

```tsx
// Χ”ΧΧ΅Χ ΧΧ•Χ›Χ ΧΧ©Χ™ΧΧ•Χ© Χ‘:
import WallMapScreen from '@/screens/routes/WallMapScreen';

// Χ›Χ Χ”Χ©Χ™Χ Χ•Χ™Χ™Χ ΧΧ©Χ•ΧΧ‘Χ™Χ Χ‘-WallMapScreen.tsx Χ”Χ—Χ“Χ©
// AuthProvider Χ›Χ‘Χ¨ Χ Χ•Χ΅Χ£ Χ-App.tsx
```

## Χ”ΧΆΧ¨Χ•Χ ΧΧ›Χ Χ™Χ•Χ

- Χ”ΧΧΧ™ΧΧ•Χ ΧΧΧ—Χ•Χ¨ Χ Χ©ΧΧ¨Χ” Χ‘-useVisibleRoutes
- Χ”ΧΧΧ“Χ™Χ WALL_WIDTH/WALL_HEIGHT Χ¦Χ¨Χ™Χ›Χ™Χ Χ”ΧΧΧΧ” ΧΧ§Χ™Χ¨ Χ”ΧΧΧ™ΧΧ™
- Χ”ΧΧ΅ΧΧ•ΧΧ™Χ ΧΧ•Χ›Χ Χ™Χ ΧΧ”Χ¦Χ™Χ’ Χ Χ§Χ•Χ“Χ•Χ ΧΧ“Χ•ΧΧ•Χ ΧΆΧ Χ”ΧΧ¤Χ”
- ΧΧ•Χ›Χ ΧΧ—Χ™Χ‘Χ•Χ¨ ΧΧΧ΅Χ“ Χ ΧΧ•Χ Χ™Χ ΧΧΧ™ΧΧ™ Χ‘ΧΧ§Χ•Χ mock data
